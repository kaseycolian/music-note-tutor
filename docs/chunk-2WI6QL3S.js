import{$a as q,Ea as b,Fa as _,Ga as v,Ha as se,Ia as F,Ja as I,Ka as j,L as B,La as c,Ma as s,Na as oe,Oa as h,P as T,Pa as C,Qa as Q,Ra as L,Sa as ce,Ta as k,U as y,Ua as le,V as O,Va as u,W as G,Wa as de,X as re,Xa as ue,Ya as ge,Za as fe,_a as Y,a as N,ab as r,b as S,bb as x,c as te,ca as p,cb as D,db as pe,eb as me,fb as Ce,gb as he,kb as P,lb as K,ma as ae,mb as be,na as ne,nb as E,oa as l,ub as _e,vb as $,ya as z}from"./chunk-DTSAI45H.js";var ve=[{mode:"default",label:"Default",description:"All note positions for treble and bass clefs"},{mode:"easy",label:"Easy",description:"Only notes on the staff lines and spaces"},{mode:"hard",label:"Hard",description:"Only notes on ledger lines above and below staff"}],Pe=[{filter:"both",label:"Both",description:"Show notes from both treble and bass clefs"},{filter:"treble",label:"Treble",description:"Show only treble clef notes"},{filter:"bass",label:"Bass",description:"Show only bass clef notes"}],ie={treble:{easy:["E4","F4","G4","A4","B4","C5","D5","E5","F5"],hard:["C4","D4","G5","A5","B5","C6","D6","E6","F6","G6","A6","B6","C7"],default:["C4","D4","E4","F4","G4","A4","B4","C5","D5","E5","F5","G5","A5","B5","C6","D6","E6","F6","G6","A6","B6","C7"]},bass:{easy:["G2","A2","B2","C3","D3","E3","F3","G3","A3"],hard:["C1","D1","E1","F1","G1","A1","B1","C2","D2","E2","F2","B3","C4","D4","E4","F4","G4","A4","B4","C5"],default:["C1","D1","E1","F1","G1","A1","B1","C2","D2","E2","F2","G2","A2","B2","C3","D3","E3","F3","G3","A3","B3","C4","D4","E4","F4","G4","A4","B4","C5"]}};var J=class i{levelConfigurations=new Map;constructor(){this.initializeLevelConfigurations()}getLevelConfiguration(t){let e=this.levelConfigurations.get(t);if(!e)throw new Error(`No configuration found for level: ${t}`);return e}getAvailableLevels(){return Array.from(this.levelConfigurations.keys())}getNextLevel(t){let e=["easy","hard","mixed"],n=e.indexOf(t);return n>=0&&n<e.length-1?e[n+1]:null}canUnlockLevel(t,e,n){let o=this.getLevelConfiguration(t);return e>=o.progressionCriteria.minAccuracy&&n>=o.progressionCriteria.minQuestions}getBaseWeights(t){let e=this.getLevelConfiguration(t);return new Map(e.baseWeights)}updateBaseWeights(t,e){let n=this.levelConfigurations.get(t);if(n){let o=S(N({},n),{baseWeights:new Map(e)});this.levelConfigurations.set(t,o)}}initializeLevelConfigurations(){this.levelConfigurations.set("easy",this.createEasyConfig()),this.levelConfigurations.set("hard",this.createHardConfig()),this.levelConfigurations.set("mixed",this.createMixedConfig())}createEasyConfig(){let t={trebleRange:{min:4,max:6},bassRange:{min:2,max:4},allowedNotes:["C","D","E","F","G","A","B"],includeAccidentals:!1},e={trebleWeight:.7,bassWeight:.3},n={minAccuracy:.78,minQuestions:35,consecutiveCorrect:7},o=this.generateBaseWeights(t,1);return{level:"easy",noteRange:t,clefDistribution:e,baseWeights:o,progressionCriteria:n}}createHardConfig(){let t={trebleRange:{min:3,max:7},bassRange:{min:1,max:5},allowedNotes:["C","D","E","F","G","A","B"],includeAccidentals:!0},e={trebleWeight:.5,bassWeight:.5},n={minAccuracy:.88,minQuestions:150,consecutiveCorrect:12},o=this.generateBaseWeights(t,1);return{level:"hard",noteRange:t,clefDistribution:e,baseWeights:o,progressionCriteria:n}}createMixedConfig(){let t={trebleRange:{min:3,max:7},bassRange:{min:1,max:5},allowedNotes:["C","D","E","F","G","A","B"],includeAccidentals:!0},e={trebleWeight:.5,bassWeight:.5},n={minAccuracy:.83,minQuestions:100,consecutiveCorrect:10},o=this.generateBaseWeights(t,1);return{level:"mixed",noteRange:t,clefDistribution:e,baseWeights:o,progressionCriteria:n}}generateBaseWeights(t,e){let n=new Map;return["treble","bass"].forEach(a=>{let d=a==="treble"?t.trebleRange:t.bassRange;for(let m=d.min;m<=d.max;m++)t.allowedNotes.forEach(g=>{let f=`${g}${m}-${a}`;n.set(f,e),t.includeAccidentals&&(n.set(`${f}-sharp`,e*.8),n.set(`${f}-flat`,e*.8))})}),n}getNotePriorities(t){return{easy:{"C4-treble":1.4,"D4-treble":1.3,"E4-treble":1.3,"F4-treble":1.2,"G4-treble":1.2,"A4-treble":1.2,"B4-treble":1.2,"C5-treble":1.1,"C3-bass":1.3,"D3-bass":1.2,"E3-bass":1.2},hard:{"C6-treble":1.1,"C7-treble":1,"B2-bass":1.1,"C1-bass":1,"F4-treble-sharp":1,"B4-treble-flat":1,"F3-bass-sharp":1,"A5-treble-flat":1}}[t]||{}}getAdaptiveWeightingParams(t){return{easy:{performanceWeight:.45,recencyWeight:.28,difficultyWeight:.17,randomnessWeight:.1},hard:{performanceWeight:.65,recencyWeight:.18,difficultyWeight:.1,randomnessWeight:.07},mixed:{performanceWeight:.55,recencyWeight:.23,difficultyWeight:.13,randomnessWeight:.09}}[t]}static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var W=class i{save(t,e){try{let n=JSON.stringify(e);localStorage.setItem(t,n)}catch(n){console.error(`Failed to save data to localStorage for key: ${t}`,n)}}load(t){try{let e=localStorage.getItem(t);return e===null?null:JSON.parse(e)}catch(e){return console.error(`Failed to load data from localStorage for key: ${t}`,e),null}}clear(t){try{localStorage.removeItem(t)}catch(e){console.error(`Failed to clear data from localStorage for key: ${t}`,e)}}exists(t){return localStorage.getItem(t)!==null}getKeysWithPrefix(t){let e=[];for(let n=0;n<localStorage.length;n++){let o=localStorage.key(n);o&&o.startsWith(t)&&e.push(o)}return e}clearAll(){try{localStorage.clear()}catch(t){console.error("Failed to clear all localStorage data",t)}}getStorageSize(){let t=0;for(let e in localStorage)localStorage.hasOwnProperty(e)&&(t+=localStorage[e].length+e.length);return t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var V=class i{storageService=T(W);userProgress=p(this.getDefaultProgress());currentSession=p(null);currentLevel=P(()=>this.userProgress().currentLevel);overallAccuracy=P(()=>this.userProgress().overallAccuracy);totalQuestions=P(()=>this.userProgress().totalQuestionsAnswered);sessionDuration=P(()=>{let t=this.currentSession();return!t||!t.endTime?0:t.endTime.getTime()-t.startTime.getTime()});constructor(){this.loadProgress(),this.startNewSession()}getCurrentProgress(){return this.userProgress()}updateLevel(t){let e=this.userProgress();if(e.levelProgression.find(o=>o.level===t)){let o=S(N({},e),{currentLevel:t});this.userProgress.set(o),this.saveProgress()}else{let o={level:t,unlockedAt:new Date,questionsAtLevel:0,accuracyAtLevel:0},a=S(N({},e),{currentLevel:t,levelProgression:[...e.levelProgression,o]});this.userProgress.set(a),this.saveProgress()}}recordQuestionAttempt(t,e){let n=this.userProgress(),o=this.currentSession(),a=n.totalQuestionsAnswered+1,m=Math.round(n.overallAccuracy*n.totalQuestionsAnswered)+(t?1:0),g=a>0?m/a:0,f=n.levelProgression.map(M=>{if(M.level===n.currentLevel){let A=M.questionsAtLevel+1,U=Math.round(M.accuracyAtLevel*M.questionsAtLevel)+(t?1:0),ye=A>0?U/A:0;return S(N({},M),{questionsAtLevel:A,accuracyAtLevel:ye})}return M}),w=S(N({},n),{totalQuestionsAnswered:a,overallAccuracy:g,levelProgression:f});if(this.userProgress.set(w),o){let M=S(N({},o),{questionsAnswered:o.questionsAnswered+1,correctAnswers:o.correctAnswers+(t?1:0),averageResponseTime:this.calculateNewAverageResponseTime(o.averageResponseTime,o.questionsAnswered,e)});this.currentSession.set(M),this.saveSession(M)}this.saveProgress()}startNewSession(){let e={sessionId:this.generateSessionId(),startTime:new Date,questionsAnswered:0,correctAnswers:0,averageResponseTime:0,notesEncountered:[]};this.currentSession.set(e),this.saveSession(e)}endCurrentSession(){let t=this.currentSession();if(t){let e=S(N({},t),{endTime:new Date});this.currentSession.set(e),this.saveSession(e)}}getSessionStats(){let t=this.currentSession();if(!t)return{questionsAnswered:0,accuracy:0,averageResponseTime:0,duration:0};let e=t.questionsAnswered>0?t.correctAnswers/t.questionsAnswered:0,n=t.endTime?t.endTime.getTime()-t.startTime.getTime():Date.now()-t.startTime.getTime();return{questionsAnswered:t.questionsAnswered,accuracy:e,averageResponseTime:t.averageResponseTime,duration:n}}resetProgress(){let t=this.getDefaultProgress();this.userProgress.set(t),this.currentSession.set(null),this.storageService.clear("user-progress"),this.storageService.clear("current-session"),this.startNewSession()}exportProgress(){return JSON.stringify({progress:this.userProgress(),session:this.currentSession()},null,2)}importProgress(t){try{let e=JSON.parse(t);return e.progress&&(this.userProgress.set(e.progress),this.saveProgress()),e.session&&(this.currentSession.set(e.session),this.saveSession(e.session)),!0}catch(e){return console.error("Failed to import progress data:",e),!1}}getDefaultProgress(){return{currentLevel:"easy",totalQuestionsAnswered:0,overallAccuracy:0,sessionStartTime:new Date,levelProgression:[{level:"easy",unlockedAt:new Date,questionsAtLevel:0,accuracyAtLevel:0}]}}calculateNewAverageResponseTime(t,e,n){return e===0?n:(t*e+n)/(e+1)}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}saveProgress(){this.storageService.save("user-progress",this.userProgress())}loadProgress(){let t=this.storageService.load("user-progress");if(t){let e=S(N({},t),{sessionStartTime:new Date(t.sessionStartTime),levelProgression:t.levelProgression.map(n=>S(N({},n),{unlockedAt:new Date(n.unlockedAt)}))});this.userProgress.set(e)}}saveSession(t){this.storageService.save("current-session",t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var X=class i{performanceData=p(new Map);currentLevel=p("easy");recentHistory=p([]);difficultyMode=p("default");clefFilter=p("both");overallAccuracy=P(()=>{let t=Array.from(this.performanceData().values());if(t.length===0)return 0;let e=t.reduce((o,a)=>o+a.correctAnswers,0),n=t.reduce((o,a)=>o+a.attempts,0);return n>0?e/n:0});configService=T(J);progressService=T(V);storageService=T(W);constructor(){K(()=>{this.persistPerformanceData()}),this.loadPerformanceData()}generateNextNote(t){let e=this.buildSelectionContext(t),n=this.buildCandidatePool(e),o=this.calculateWeights(n,e),a=this.performWeightedSelection(o);return this.updateHistory(a),a}recordAnswer(t,e,n,o){this.updatePerformanceData(t,n,o),this.checkLevelProgression()}getCurrentLevelConfig(){return this.configService.getLevelConfiguration(this.currentLevel())}getPerformanceStats(){return new Map(this.performanceData())}resetProgress(){this.performanceData.set(new Map),this.recentHistory.set([]),this.currentLevel.set("easy"),this.storageService.clear("performance-data"),this.storageService.clear("recent-history"),this.storageService.clear("current-level")}setDifficultyMode(t){this.difficultyMode.set(t)}getDifficultyMode(){return this.difficultyMode()}setClefFilter(t){this.clefFilter.set(t)}getClefFilter(){return this.clefFilter()}buildSelectionContext(t){let e=this.progressService.getCurrentProgress();return{currentLevel:t?.currentLevel??this.currentLevel(),userProgress:t?.userProgress??e,performanceMap:t?.performanceMap??this.performanceData(),recentHistory:t?.recentHistory??this.recentHistory(),sessionContext:t?.sessionContext??{sessionStartTime:e.sessionStartTime,questionsThisSession:e.totalQuestionsAnswered,accuracyThisSession:e.overallAccuracy}}}buildCandidatePool(t){let e=this.getCurrentLevelConfig(),n=[];["treble","bass"].forEach(g=>{let f=g==="treble"?e.noteRange.trebleRange:e.noteRange.bassRange;for(let w=f.min;w<=f.max;w++)e.noteRange.allowedNotes.forEach(M=>{let A=`${M}${w}-${g}`,R=this.determineStaffPosition(M,w,g);n.push({name:M,octave:w,clef:g,position:R,id:A}),e.noteRange.includeAccidentals&&(n.push({name:M,octave:w,clef:g,accidental:"sharp",position:R,id:`${A}-sharp`}),n.push({name:M,octave:w,clef:g,accidental:"flat",position:R,id:`${A}-flat`}))})});let a=n,d=this.difficultyMode();d!=="default"&&(a=a.filter(g=>{let f=`${g.name}${g.octave}`;return(g.clef==="treble"?ie.treble:ie.bass)[d].includes(f)}));let m=this.clefFilter();return m!=="both"&&(a=a.filter(g=>g.clef===m)),a}calculateWeights(t,e){let n=this.getCurrentLevelConfig();return t.map(o=>{let a=n.baseWeights.get(o.id)??1,d=e.performanceMap.get(o.id);if(d){let f=1-d.accuracy;a*=1+f*2,d.consecutiveIncorrect>0&&(a*=1+d.consecutiveIncorrect*.5),d.consecutiveCorrect>3&&(a*=.7)}else a*=1.3;let m=e.recentHistory.findIndex(f=>f.id===o.id);if(m!==-1){let f=Math.max(.1,1-(m+1)*.3);a*=f}let g=o.clef==="treble"?n.clefDistribution.trebleWeight:n.clefDistribution.bassWeight;return a*=g,S(N({},o),{weight:Math.max(.01,a)})})}performWeightedSelection(t){let e=t.reduce((g,f)=>g+f.weight,0),n=Math.random()*e;for(let g of t)if(n-=g.weight,n<=0){let d=g,{weight:f}=d;return te(d,["weight"])}let m=t[t.length-1],{weight:o}=m;return te(m,["weight"])}updatePerformanceData(t,e,n){let o=this.performanceData(),a=o.get(t.id),d=(a?.attempts??0)+1,m=(a?.correctAnswers??0)+(e?1:0),g=m/d,f=a?(a.averageResponseTime*a.attempts+n)/d:n,w=e?(a?.consecutiveCorrect??0)+1:0,M=e?0:(a?.consecutiveIncorrect??0)+1,A=Math.round((1-g)*100),R={noteId:t.id,attempts:d,correctAnswers:m,accuracy:g,lastSeen:new Date,averageResponseTime:f,consecutiveCorrect:w,consecutiveIncorrect:M,difficultyScore:A},U=new Map(o);U.set(t.id,R),this.performanceData.set(U)}updateHistory(t){let e=this.recentHistory(),o=[t,...e.slice(0,10-1)];this.recentHistory.set(o)}checkLevelProgression(){let t=this.getCurrentLevelConfig(),e=this.progressService.getCurrentProgress(),n=e.overallAccuracy>=t.progressionCriteria.minAccuracy,o=e.totalQuestionsAnswered>=t.progressionCriteria.minQuestions,d=this.countRecentCorrectAnswers()>=t.progressionCriteria.consecutiveCorrect;n&&o&&d&&this.advanceLevel()}countRecentCorrectAnswers(){return 0}advanceLevel(){let t=this.currentLevel(),e=["easy","hard"],n=e.indexOf(t);if(n<e.length-1){let o=e[n+1];this.currentLevel.set(o),this.progressService.updateLevel(o)}}determineStaffPosition(t,e,n){let o=`${t}${e}`;if(n==="treble"){let a=["E4","G4","B4","D5","F5"],d=["F4","A4","C5","E5"];if(a.includes(o))return"line";if(d.includes(o))return"space";if(e<4||e===4&&["C","D"].includes(t))return"ledger-below";if(e>5||e===5&&["G","A","B"].includes(t)||e>=6)return"ledger-above"}else{let a=["G2","B2","D3","F3","A3"],d=["A2","C3","E3","G3"];if(a.includes(o))return"line";if(d.includes(o))return"space";if(e<2||e===2&&["E","F"].includes(t))return"ledger-below";if(e>3||e===3&&["B"].includes(t)||e>=4)return"ledger-above"}return"space"}persistPerformanceData(){this.storageService.save("performance-data",Array.from(this.performanceData().entries())),this.storageService.save("recent-history",this.recentHistory()),this.storageService.save("current-level",this.currentLevel())}loadPerformanceData(){let t=this.storageService.load("performance-data");t&&this.performanceData.set(new Map(t));let e=this.storageService.load("recent-history");e&&this.recentHistory.set(e);let n=this.storageService.load("current-level");n&&this.currentLevel.set(n)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var Oe=(i,t)=>t.y;function we(i,t){if(i&1&&(G(),Q(0,"line",2)),i&2){let e=t.$implicit,n=u();b("y1",e)("x2",n.staffWidth-50)("y2",e)}}function Ne(i,t){if(i&1&&(G(),Q(0,"line",7)),i&2){let e=t.$implicit;b("x1",e.x1)("y1",e.y)("x2",e.x2)("y2",e.y)}}function Se(i,t){if(i&1&&F(0,Ne,1,4,":svg:line",7,Oe),i&2){let e=u();I(e.ledgerLines())}}function ke(i,t){if(i&1&&(G(),h(0,"text",8),r(1),C()),i&2){let e=t,n=u(2);b("x",e.x)("y",e.y+6),l(),D(" ",n.getAccidentalSymbol(n.currentNote().accidental)," ")}}function De(i,t){if(i&1&&(_(0,ke,2,3,":svg:text",8),G(),h(1,"g"),Q(2,"ellipse",9),C()),i&2){let e,n=t,o=u();v((e=o.shouldShowAccidental()&&o.getAccidentalPosition())?0:-1,e),l(),b("transform","translate("+n.x+","+n.y+") rotate(20) scale(1.2, 1.1)"),l(),q(o.getNoteClasses().join(" ")),b("rx",o.noteRadius)("ry",o.noteRadius*.7)("aria-label","Note: "+o.currentNote().name+(o.currentNote().accidental?" "+o.currentNote().accidental:"")+" octave "+o.currentNote().octave)}}function Ee(i,t){if(i&1&&(G(),h(0,"text",4),r(1,' Click "New Note" to start '),C()),i&2){let e=u();b("x",e.staffCenterX)("y",e.staffCenterY)}}function Ae(i,t){if(i&1&&r(0),i&2){let e=t,n=u();me(" Musical staff in ",n.clef()," clef showing ",e.name,"",e.accidental?" "+e.accidental:""," in octave ",e.octave,". ")}}function Te(i,t){if(i&1&&r(0),i&2){let e=u();D(" Musical staff in ",e.clef()," clef with no note displayed. ")}}function Fe(i,t){if(i&1&&(h(0,"span",11),r(1),C()),i&2){let e=u(),n=u();l(),x(n.getAccidentalSymbol(e.accidental))}}function Ie(i,t){if(i&1&&(h(0,"div",6)(1,"span",10),r(2),C(),_(3,Fe,2,1,"span",11),h(4,"span",12),r(5),C()()),i&2){let e=t;l(2),x(e.name),l(),v(e.accidental?3:-1),l(2),x(e.octave)}}var Z=class i{currentNote=E(null);showNote=E(!0);showResult=E(!1);clef=E("treble");highlightNote=E(!1);staffLines=p([]);notePosition=p(null);staffHeight=250;staffWidth=400;lineSpacing=15;noteRadius=7;staffCenterY=125;staffCenterX=200;staffLinePositions=P(()=>{let t=this.lineSpacing,e=this.staffCenterY;return[e-t*2,e-t,e,e+t,e+t*2]});clefSymbol=P(()=>this.clef()==="treble"?"\u{1D11E}":"\u{1D122}");noteDisplayPosition=P(()=>{let t=this.currentNote();return!t||!this.showNote()?null:this.calculateNotePosition(t)});ledgerLines=P(()=>{let t=this.currentNote();return!t||!this.showNote()?[]:this.calculateLedgerLines(t)});constructor(){K(()=>{this.updateStaffForClef()})}calculateNotePosition(t){let e=this.staffLinePositions(),n=this.lineSpacing,a=this.staffCenterY;return t.clef==="treble"?a=this.calculateTreblePosition(t,e,n):a=this.calculateBassPosition(t,e,n),{x:this.staffCenterX,y:a}}calculateTreblePosition(t,e,n){let o=`${t.name}${t.octave}`;return{C4:e[4]+n,D4:e[4]+n/2,E4:e[4],F4:e[4]-n/2,G4:e[3],A4:e[3]-n/2,B4:e[2],C5:e[2]-n/2,D5:e[1],E5:e[1]-n/2,F5:e[0],G5:e[0]-n/2,A5:e[0]-n,B5:e[0]-n*1.5,C6:e[0]-n*2,D6:e[0]-n*2.5,E6:e[0]-n*3,F6:e[0]-n*3.5,G6:e[0]-n*4,A6:e[0]-n*4.5,B6:e[0]-n*5,C7:e[0]-n*5.5}[o]??e[2]}calculateBassPosition(t,e,n){let o=`${t.name}${t.octave}`;return{C1:e[4]+n*3,D1:e[4]+n*2.5,E1:e[4]+n*2,F1:e[4]+n*1.5,G1:e[4]+n,A1:e[4]+n*.5,B1:e[4],C2:e[4]+n*1.5,D2:e[4]+n,E2:e[4]+n*.5,F2:e[4]+n/2,G2:e[4],A2:e[4]-n/2,B2:e[3],C3:e[3]-n/2,D3:e[2],E3:e[2]-n/2,F3:e[1],G3:e[1]-n/2,A3:e[0],B3:e[0]-n/2,C4:e[0]-n,D4:e[0]-n*1.5,E4:e[0]-n*2,F4:e[0]-n*2.5,G4:e[0]-n*3,A4:e[0]-n*3.5,B4:e[0]-n*4,C5:e[0]-n*4.5}[o]??e[2]}calculateLedgerLines(t){let e=this.calculateNotePosition(t),n=this.staffLinePositions(),o=this.lineSpacing,a=[],d=e.y,m=n[0],g=n[4];if(d<m){let f=m-o;for(;f>=d-o/2;)a.push({y:f,x1:e.x-25,x2:e.x+25}),f-=o}if(d>g){let f=g+o;for(;f<=d+o/2;)a.push({y:f,x1:e.x-25,x2:e.x+25}),f+=o}return a}updateStaffForClef(){let t=[0,1,2,3,4];this.staffLines.set(t)}getNoteClasses(){let t=["note"];this.highlightNote()&&t.push("highlighted");let e=this.currentNote();return e?.accidental&&t.push(`accidental-${e.accidental}`),t}getAccidentalSymbol(t){return{sharp:"\u266F",flat:"\u266D"}[t]||""}shouldShowAccidental(){return!!(this.currentNote()?.accidental&&this.showNote())}getAccidentalPosition(){let t=this.noteDisplayPosition();return!t||!this.shouldShowAccidental()?null:{x:t.x-20,y:t.y}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=z({type:i,selectors:[["app-musical-staff"]],inputs:{currentNote:[1,"currentNote"],showNote:[1,"showNote"],showResult:[1,"showResult"],clef:[1,"clef"],highlightNote:[1,"highlightNote"]},decls:13,vars:11,consts:[[1,"musical-staff-container"],["preserveAspectRatio","xMidYMid slice","role","img",1,"staff-svg"],["x1","50","stroke","#000","stroke-width","2",1,"staff-line"],["x","90","font-family","serif","fill","#000","text-anchor","middle",1,"clef-symbol"],["font-family","Arial, sans-serif","font-size","16","fill","#666","text-anchor","middle",1,"placeholder-text"],["id","staff-description",1,"sr-only"],["role","status","aria-live","polite",1,"note-info"],["stroke","#000","stroke-width","2",1,"ledger-line"],["font-family","serif","font-size","20","fill","#000","text-anchor","middle",1,"accidental"],["cx","0","cy","0","fill","none","stroke","#000","stroke-width","3.5"],[1,"note-name"],[1,"note-accidental"],[1,"note-octave"]],template:function(e,n){if(e&1&&(h(0,"div",0),G(),h(1,"svg",1),F(2,we,1,3,":svg:line",2,se),h(4,"text",3),r(5),C(),_(6,Se,2,0),_(7,De,3,7),_(8,Ee,2,2,":svg:text",4),C(),re(),h(9,"div",5),_(10,Ae,1,4)(11,Te,1,1),C(),_(12,Ie,6,3,"div",6),C()),e&2){let o,a,d,m,g;b("aria-label","Musical staff displaying "+(((o=n.currentNote())==null?null:o.name)||"no note")),l(),b("viewBox","0 0 "+n.staffWidth+" "+n.staffHeight)("aria-describedby","staff-description"),l(),I(n.staffLinePositions()),l(2),b("y",n.clef()==="bass"?n.staffCenterY+28:n.staffCenterY+15)("font-size",n.clef()==="bass"?"70":"85"),l(),D(" ",n.clefSymbol()," "),l(),v((a=n.showNote()&&n.currentNote())?6:-1,a),l(),v((d=n.showNote()&&n.noteDisplayPosition())?7:-1,d),l(),v(!n.showNote()||!n.currentNote()?8:-1),l(2),v((m=n.currentNote())?10:11,m),l(2),v((g=n.showResult()&&n.currentNote())?12:-1,g)}},dependencies:[$],styles:[".musical-staff-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px;background:#1a0035cc;border-radius:0;box-shadow:0 0 40px #ff00aa26;margin:0;border:1px solid rgba(102,51,153,.4);clip-path:polygon(12px 0,100% 0,calc(100% - 12px) 100%,0 100%);width:100%}.musical-staff-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;font-size:.75rem;letter-spacing:.15em;text-transform:uppercase;color:var(--electric-mint);margin-bottom:16px;font-weight:700;text-align:center}.musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%]{background:#1a003599;border:1px solid rgba(102,51,153,.3);border-radius:0;padding:20px;transition:all .3s ease;display:block;margin:0 auto;width:100%;max-width:600px;height:auto}.musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%]:hover{box-shadow:0 0 30px #f0a3;border-color:#f0a6}.musical-staff-container[_ngcontent-%COMP%]   .staff-line[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .ledger-line[_ngcontent-%COMP%]{stroke:var(--white)}.musical-staff-container[_ngcontent-%COMP%]   .clef-symbol[_ngcontent-%COMP%]{font-family:Times New Roman,serif;font-weight:700;fill:var(--fuchsia);filter:drop-shadow(0 0 4px rgba(255,0,170,.6))}.musical-staff-container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{fill:none;stroke:var(--fuchsia);stroke-width:3.5;transition:all .2s ease;filter:drop-shadow(0 0 6px rgba(255,0,170,.6))}.musical-staff-container[_ngcontent-%COMP%]   .note.highlighted[_ngcontent-%COMP%]{fill:none;stroke:var(--electric-mint);stroke-width:4;filter:drop-shadow(0 0 12px rgba(0,255,204,.8));animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.musical-staff-container[_ngcontent-%COMP%]   .note.accidental-sharp[_ngcontent-%COMP%]{stroke:#8e44ad;filter:drop-shadow(0 0 6px rgba(142,68,173,.6))}.musical-staff-container[_ngcontent-%COMP%]   .note.accidental-flat[_ngcontent-%COMP%]{stroke:#16a085;filter:drop-shadow(0 0 6px rgba(22,160,133,.6))}.musical-staff-container[_ngcontent-%COMP%]   .note-stem[_ngcontent-%COMP%]{stroke:var(--fuchsia);stroke-width:2;transition:all .2s ease;filter:drop-shadow(0 0 4px rgba(255,0,170,.4))}.musical-staff-container[_ngcontent-%COMP%]   .accidental[_ngcontent-%COMP%]{font-family:Times New Roman,serif;font-weight:700;fill:var(--pale-lavender);filter:drop-shadow(0 0 3px rgba(232,204,255,.4))}.musical-staff-container[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;fill:#e8ccff4d;font-style:italic;font-size:14px;letter-spacing:.1em}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:20px;padding:12px 24px;background:#ff00aa1a;border:1px solid var(--fuchsia);border-radius:0;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);font-family:Courier New,Courier,monospace;font-weight:700;color:var(--white);box-shadow:0 0 20px #f0a3;transition:all .3s ease}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 0 30px #f0a6}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-name[_ngcontent-%COMP%]{font-size:24px;font-weight:900;color:var(--fuchsia);text-shadow:0 0 10px rgba(255,0,170,.8)}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-accidental[_ngcontent-%COMP%]{font-size:20px;color:var(--electric-mint);margin:0 4px}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-octave[_ngcontent-%COMP%]{font-size:18px;color:var(--pale-lavender);background:#6633994d;padding:2px 10px;border:1px solid var(--rebecca);clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%)}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@media (max-width: 768px){.musical-staff-container[_ngcontent-%COMP%]{padding:16px}.musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%]{width:100%;max-width:none;height:auto;padding:15px}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{padding:10px 20px}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-name[_ngcontent-%COMP%]{font-size:20px}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-accidental[_ngcontent-%COMP%]{font-size:16px}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-octave[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.musical-staff-container[_ngcontent-%COMP%]{padding:16px}.musical-staff-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:12px}.musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%]{width:100%;max-width:none;padding:4px}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{flex-direction:column;gap:6px;text-align:center}}@media (prefers-contrast: high){.musical-staff-container[_ngcontent-%COMP%]   .staff-line[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .ledger-line[_ngcontent-%COMP%]{stroke:var(--white);stroke-width:2}.musical-staff-container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{fill:none;stroke:var(--white);stroke-width:3.5}.musical-staff-container[_ngcontent-%COMP%]   .clef-symbol[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .accidental[_ngcontent-%COMP%]{fill:var(--white)}}@media (prefers-reduced-motion: reduce){.musical-staff-container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .note-stem[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{transition:none}.musical-staff-container[_ngcontent-%COMP%]   .note.highlighted[_ngcontent-%COMP%]{animation:none}}@media (prefers-color-scheme: dark){.musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%]{background:#1a0035cc;background:#0d0020cc;border-color:#66339980}.musical-staff-container[_ngcontent-%COMP%]   .clef-symbol[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .accidental[_ngcontent-%COMP%]{fill:var(--fuchsia)}.musical-staff-container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{fill:none;stroke:var(--fuchsia)}.musical-staff-container[_ngcontent-%COMP%]   .note-stem[_ngcontent-%COMP%]{stroke:var(--fuchsia)}.musical-staff-container[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{fill:#e8ccff4d}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{background:#ff00aa26;border-color:var(--fuchsia);color:var(--white)}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-name[_ngcontent-%COMP%]{color:var(--fuchsia)}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-octave[_ngcontent-%COMP%]{background:#6396;color:var(--pale-lavender)}}.musical-staff-container[_ngcontent-%COMP%]:focus-within{outline:2px solid var(--fuchsia);outline-offset:4px}@media print{.musical-staff-container[_ngcontent-%COMP%]{background:#fff;box-shadow:none;border:1px solid #000;clip-path:none}.musical-staff-container[_ngcontent-%COMP%]   .staff-svg[_ngcontent-%COMP%]{background:#fff;border:none}.musical-staff-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{border:1px solid #000;box-shadow:none;clip-path:none}.musical-staff-container[_ngcontent-%COMP%]   .staff-line[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .ledger-line[_ngcontent-%COMP%]{stroke:#000}.musical-staff-container[_ngcontent-%COMP%]   .clef-symbol[_ngcontent-%COMP%], .musical-staff-container[_ngcontent-%COMP%]   .accidental[_ngcontent-%COMP%]{fill:#000}.musical-staff-container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{stroke:#000;filter:none}}"]})};var Le=(i,t)=>t.note,Be=(i,t)=>t.key;function Ge(i,t){i&1&&(h(0,"span",15),r(1),C()),i&2&&(l(),x(t))}function Re(i,t){i&1&&(h(0,"span",16),r(1,"\u2713"),C())}function ze(i,t){if(i&1){let e=L();h(0,"button",13),le("click",function(){let o=y(e).$implicit,a=u();return O(a.onNoteClick(o.note))})("mouseenter",function(){let o=y(e).$implicit,a=u();return O(a.onNoteHover(o.note))})("mouseleave",function(){y(e);let o=u();return O(o.onNoteHover(null))})("focus",function(){let o=y(e).$implicit,a=u();return O(a.onNoteHover(o.note))})("blur",function(){y(e);let o=u();return O(o.onNoteHover(null))}),h(1,"span",14),r(2),C(),_(3,Ge,2,1,"span",15),_(4,Re,2,0,"span",16),C()}if(i&2){let e,n=t.$implicit,o=u();q(o.getNoteButtonClasses(n.note).join(" ")),fe("--note-color",o.getNoteColor(n.note)),ce("disabled",o.disabled()),b("aria-label",o.getAriaLabel(n.note))("aria-pressed",o.isNoteSelected(n.note)),l(2),x(n.label),l(),v((e=o.getKeyboardShortcut(n.note))?3:-1,e),l(),v(o.isNoteSelected(n.note)?4:-1)}}function $e(i,t){if(i&1&&(h(0,"div",10)(1,"kbd",17),r(2),C(),h(3,"span",18),r(4),C()()),i&2){let e=t.$implicit;l(2),x(e.key),l(2),x(e.value)}}function He(i,t){if(i&1&&r(0),i&2){let e=u();D(" Selected note: ",e.getNoteDisplayName(t)," ")}}function We(i,t){i&1&&r(0," No note selected ")}function Ve(i,t){i&1&&(h(0,"div",12)(1,"div",19)(2,"span",20),r(3,"\u23F8\uFE0F"),C(),h(4,"span",21),r(5,"Input disabled"),C()()())}var ee=class i{availableNotes=E(["C","D","E","F","G","A","B"]);disabled=E(!1);showAccidentals=E(!1);selectedNote=E(null);noteSelected=be();hoveredNote=p(null);pressedNote=p(null);noteButtons=P(()=>{let t=this.availableNotes(),e=[];return t.forEach(n=>{e.push({note:n,label:n,class:"natural-note"})}),this.showAccidentals()&&t.forEach(n=>{n!=="E"&&n!=="B"&&e.push({note:`${n}#`,label:`${n}\u266F`,class:"sharp-note"}),n!=="F"&&n!=="C"&&e.push({note:`${n}b`,label:`${n}\u266D`,class:"flat-note"})}),e.sort((n,o)=>{let a=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"],d=a.indexOf(n.note),m=a.indexOf(o.note);return d-m})});keyboardShortcuts=P(()=>{let t={};return this.availableNotes().forEach((n,o)=>{let a=(o+1).toString();t[a]=n}),t});ngOnInit(){}ngOnDestroy(){}handleKeyboardEvent(t){t.key>="1"&&t.key<="7"&&(t.preventDefault(),this.onKeyboardShortcut(t.key))}onNoteClick(t){this.disabled()||(this.pressedNote.set(t),this.noteSelected.emit(t),setTimeout(()=>{this.pressedNote.set(null)},150))}onNoteHover(t){this.disabled()||this.hoveredNote.set(t)}getNoteButtonClasses(t){let e=["note-button"];return t.includes("#")?e.push("sharp"):t.includes("b")?e.push("flat"):e.push("natural"),this.disabled()&&e.push("disabled"),this.selectedNote()===t&&e.push("selected"),this.hoveredNote()===t&&e.push("hovered"),this.pressedNote()===t&&e.push("pressed"),e}getKeyboardShortcut(t){let e=this.keyboardShortcuts();return Object.keys(e).find(o=>e[o]===t)||null}isNoteSelected(t){return this.selectedNote()===t}getAriaLabel(t){let e=`Select note ${t}`;t.includes("#")?e=e.replace("#"," sharp"):t.includes("b")&&(e=e.replace("b"," flat"));let n=this.getKeyboardShortcut(t);return n&&(e+=`, keyboard shortcut ${n}`),this.isNoteSelected(t)&&(e+=", currently selected"),e}onKeyboardShortcut(t){let n=this.keyboardShortcuts()[t];n&&!this.disabled()&&this.onNoteClick(n)}getNoteDisplayName(t){return t.replace("#","\u266F").replace("b","\u266D")}getNoteColor(t){let e={C:"#e74c3c",D:"#f39c12",E:"#f1c40f",F:"#2ecc71",G:"#3498db",A:"#9b59b6",B:"#e91e63"},n=t.charAt(0);return e[n]||"#95a5a6"}playNoteSound(t){console.log(`Playing note: ${t}`)}provideHapticFeedback(){"vibrate"in navigator&&navigator.vibrate(50)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=z({type:i,selectors:[["app-note-input"]],hostBindings:function(e,n){e&1&&k("keydown",function(a){return n.handleKeyboardEvent(a)},ae)},inputs:{availableNotes:[1,"availableNotes"],disabled:[1,"disabled"],showAccidentals:[1,"showAccidentals"],selectedNote:[1,"selectedNote"]},outputs:{noteSelected:"noteSelected"},decls:21,vars:7,consts:[[1,"note-input-container"],[1,"input-header"],[1,"input-title"],[1,"input-instructions"],["role","group",1,"note-buttons-grid"],["type","button",3,"class","disabled","--note-color"],["role","region",1,"keyboard-help"],[1,"help-details"],[1,"help-summary"],[1,"shortcuts-list"],[1,"shortcut-item"],["role","status","aria-live","polite",1,"sr-only"],["aria-hidden","true",1,"disabled-overlay"],["type","button",3,"click","mouseenter","mouseleave","focus","blur","disabled"],[1,"note-label"],["aria-hidden","true",1,"keyboard-shortcut"],["aria-hidden","true",1,"selected-indicator"],[1,"shortcut-key"],[1,"shortcut-note"],[1,"disabled-message"],[1,"disabled-icon"],[1,"disabled-text"]],template:function(e,n){if(e&1&&(h(0,"div",0)(1,"div",1)(2,"h3",2),r(3,"Select the Note"),C(),h(4,"p",3),r(5,"Click a button or use keyboard shortcuts (1-7)"),C()(),h(6,"div",4),F(7,ze,5,10,"button",5,Le),C(),h(9,"div",6)(10,"details",7)(11,"summary",8),r(12,"Keyboard Shortcuts"),C(),h(13,"div",9),F(14,$e,5,2,"div",10,Be),Ce(16,"keyvalue"),C()()(),h(17,"div",11),_(18,He,1,1)(19,We,1,0),C(),_(20,Ve,6,0,"div",12),C()),e&2){let o;b("aria-label","Note selection interface"),l(6),b("aria-label","Note selection buttons"),l(),I(n.noteButtons()),l(2),b("aria-label","Keyboard shortcuts"),l(5),I(he(16,5,n.keyboardShortcuts())),l(4),v((o=n.selectedNote())?18:19,o),l(2),v(n.disabled()?20:-1)}},dependencies:[$,_e],styles:['.note-input-container[_ngcontent-%COMP%]{position:relative;padding:0;background:transparent;border-radius:0;box-shadow:none;margin:0}.note-input-container[_ngcontent-%COMP%]   .input-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.note-input-container[_ngcontent-%COMP%]   .input-header[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;letter-spacing:.15em;text-transform:uppercase;color:var(--electric-mint);margin:0 0 8px;font-family:Courier New,Courier,monospace}.note-input-container[_ngcontent-%COMP%]   .input-header[_ngcontent-%COMP%]   .input-instructions[_ngcontent-%COMP%]{font-size:.85rem;color:#e8ccff80;margin:0;font-style:italic;letter-spacing:.1em;font-family:Courier New,Courier,monospace}.note-input-container[_ngcontent-%COMP%]   .note-buttons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(2,auto);gap:2px;margin-bottom:20px;max-width:600px;margin-left:auto;margin-right:auto;background:#6393;border:1px solid rgba(102,51,153,.3)}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 12px;border:none;border-radius:0;background:var(--violet-mid);color:var(--pale-lavender);font-family:Courier New,Courier,monospace;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:none;min-height:90px;overflow:hidden}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:0;background:var(--fuchsia);transition:height .4s ease}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:hover:not(.disabled){background:var(--violet-surface);transform:none;box-shadow:none}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:hover:not(.disabled):before{height:100%}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:hover:not(.disabled)   .note-label[_ngcontent-%COMP%]{color:var(--fuchsia)}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:focus{outline:2px solid var(--fuchsia);outline-offset:-2px;z-index:10}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:active:not(.disabled), .note-input-container[_ngcontent-%COMP%]   .note-button.pressed[_ngcontent-%COMP%]{background:#ff00aa1a;transform:none}.note-input-container[_ngcontent-%COMP%]   .note-button.selected[_ngcontent-%COMP%]{background:#ff00aa26;color:var(--white);border:none;box-shadow:inset 0 0 20px #ff00aa4d}.note-input-container[_ngcontent-%COMP%]   .note-button.selected[_ngcontent-%COMP%]:before{height:100%;width:4px}.note-input-container[_ngcontent-%COMP%]   .note-button.selected[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{color:var(--fuchsia);text-shadow:0 0 10px rgba(255,0,170,.8)}.note-input-container[_ngcontent-%COMP%]   .note-button.selected[_ngcontent-%COMP%]   .keyboard-shortcut[_ngcontent-%COMP%]{background:#f0a3;color:var(--fuchsia);border-color:var(--fuchsia)}.note-input-container[_ngcontent-%COMP%]   .note-button.hovered[_ngcontent-%COMP%]:not(.disabled):not(.selected){background:var(--violet-surface)}.note-input-container[_ngcontent-%COMP%]   .note-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed;transform:none!important}.note-input-container[_ngcontent-%COMP%]   .note-button.disabled[_ngcontent-%COMP%]:before{display:none}.note-input-container[_ngcontent-%COMP%]   .note-button.natural[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{color:var(--pale-lavender)}.note-input-container[_ngcontent-%COMP%]   .note-button.sharp[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{color:#8e44ad}.note-input-container[_ngcontent-%COMP%]   .note-button.sharp.selected[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{color:#8e44ad;text-shadow:0 0 10px rgba(142,68,173,.8)}.note-input-container[_ngcontent-%COMP%]   .note-button.sharp[_ngcontent-%COMP%]:hover:not(.disabled)   .note-label[_ngcontent-%COMP%]{color:#8e44ad}.note-input-container[_ngcontent-%COMP%]   .note-button.flat[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{color:#16a085}.note-input-container[_ngcontent-%COMP%]   .note-button.flat.selected[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{color:#16a085;text-shadow:0 0 10px rgba(22,160,133,.8)}.note-input-container[_ngcontent-%COMP%]   .note-button.flat[_ngcontent-%COMP%]:hover:not(.disabled)   .note-label[_ngcontent-%COMP%]{color:#16a085}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{font-size:24px;font-weight:900;margin-bottom:6px;transition:all .3s ease;letter-spacing:.05em}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]   .keyboard-shortcut[_ngcontent-%COMP%]{font-size:.75rem;background:#6633994d;color:#e8ccff99;padding:3px 8px;border-radius:0;border:1px solid rgba(102,51,153,.4);font-weight:700;transition:all .3s ease;clip-path:polygon(3px 0,100% 0,calc(100% - 3px) 100%,0 100%);letter-spacing:.1em}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]   .selected-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;font-size:16px;color:var(--fuchsia);animation:_ngcontent-%COMP%_checkmark .3s ease;text-shadow:0 0 8px rgba(255,0,170,.8)}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]{margin-top:24px}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]{background:#0d002099;border:1px solid rgba(102,51,153,.3);border-radius:0;overflow:hidden}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .help-summary[_ngcontent-%COMP%]{padding:12px 16px;background:#1a0035cc;cursor:pointer;font-weight:700;font-size:.8rem;letter-spacing:.1em;text-transform:uppercase;color:var(--electric-mint);border:none;outline:none;transition:background-color .3s ease;font-family:Courier New,Courier,monospace}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .help-summary[_ngcontent-%COMP%]:hover{background:#220044e6}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .help-summary[_ngcontent-%COMP%]:focus{background:#220044e6;box-shadow:inset 0 0 0 2px var(--fuchsia)}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .shortcuts-list[_ngcontent-%COMP%]{padding:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .shortcut-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 0}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .shortcut-item[_ngcontent-%COMP%]   .shortcut-key[_ngcontent-%COMP%]{background:var(--fuchsia);color:var(--violet-dark);padding:4px 10px;border-radius:0;font-size:.85rem;font-weight:900;min-width:28px;text-align:center;font-family:Courier New,Courier,monospace;clip-path:polygon(3px 0,100% 0,calc(100% - 3px) 100%,0 100%);letter-spacing:.05em}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .help-details[_ngcontent-%COMP%]   .shortcut-item[_ngcontent-%COMP%]   .shortcut-note[_ngcontent-%COMP%]{font-weight:700;font-size:.85rem;color:var(--pale-lavender);font-family:Courier New,Courier,monospace}.note-input-container[_ngcontent-%COMP%]   .disabled-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0d0020e6;display:flex;align-items:center;justify-content:center;border-radius:0;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:100}.note-input-container[_ngcontent-%COMP%]   .disabled-overlay[_ngcontent-%COMP%]   .disabled-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:24px 32px;background:var(--violet-surface);border-radius:0;border:1px solid var(--rebecca);box-shadow:0 0 30px #f0a3;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}.note-input-container[_ngcontent-%COMP%]   .disabled-overlay[_ngcontent-%COMP%]   .disabled-message[_ngcontent-%COMP%]   .disabled-icon[_ngcontent-%COMP%]{font-size:32px}.note-input-container[_ngcontent-%COMP%]   .disabled-overlay[_ngcontent-%COMP%]   .disabled-message[_ngcontent-%COMP%]   .disabled-text[_ngcontent-%COMP%]{font-weight:700;font-size:.8rem;letter-spacing:.1em;text-transform:uppercase;color:#e8ccff99;font-family:Courier New,Courier,monospace}@keyframes _ngcontent-%COMP%_checkmark{0%{transform:scale(0);opacity:0}50%{transform:scale(1.3)}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.note-input-container[_ngcontent-%COMP%]   .note-buttons-grid[_ngcontent-%COMP%]{gap:2px}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{padding:16px 8px;min-height:80px}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{font-size:20px}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]   .keyboard-shortcut[_ngcontent-%COMP%]{padding:2px 6px}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]   .shortcuts-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}}@media (max-width: 480px){.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{min-height:70px;padding:12px 6px}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{font-size:18px}}@media (prefers-contrast: high){.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{border:2px solid var(--white)}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:hover:not(.disabled){border-color:var(--fuchsia)}.note-input-container[_ngcontent-%COMP%]   .note-button.selected[_ngcontent-%COMP%]{background:var(--fuchsia);color:var(--white);border-color:var(--fuchsia)}}@media (prefers-reduced-motion: reduce){.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{transition:none}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:before{transition:none}.note-input-container[_ngcontent-%COMP%]   .selected-indicator[_ngcontent-%COMP%]{animation:none}}@media (prefers-color-scheme: dark){.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{background:var(--violet-mid);color:var(--pale-lavender)}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:hover:not(.disabled){background:var(--violet-surface)}}.note-input-container[_ngcontent-%COMP%]:focus-within   .note-button[_ngcontent-%COMP%]:focus{z-index:10}@media print{.note-input-container[_ngcontent-%COMP%]{background:#fff;box-shadow:none;border:1px solid #000}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]{background:#fff;border:1px solid #000;box-shadow:none;color:#000}.note-input-container[_ngcontent-%COMP%]   .note-button[_ngcontent-%COMP%]:before{display:none}.note-input-container[_ngcontent-%COMP%]   .keyboard-help[_ngcontent-%COMP%]{display:none}}']})};var Ue=["nextNoteButton"],je=(i,t)=>t.mode,Qe=(i,t)=>t.filter;function Ye(i,t){if(i&1){let e=L();c(0,"button",44),k("click",function(){let o=y(e).$implicit,a=u(3);return O(a.selectDifficulty(o.mode))}),c(1,"span",45),r(2),s(),c(3,"span",46),r(4),s()()}if(i&2){let e=t.$implicit,n=u(3);Y("active",n.difficultyMode()===e.mode),b("aria-label",e.label+": "+e.description),l(2),x(e.label),l(2),x(e.description)}}function qe(i,t){if(i&1&&(c(0,"div",38),F(1,Ye,5,5,"button",43,je),s()),i&2){let e=u(2);l(),I(e.difficultyModes)}}function Ke(i,t){if(i&1){let e=L();c(0,"button",44),k("click",function(){let o=y(e).$implicit,a=u(3);return O(a.selectClef(o.filter))}),c(1,"span",45),r(2),s(),c(3,"span",46),r(4),s()()}if(i&2){let e=t.$implicit,n=u(3);Y("active",n.clefFilter()===e.filter),b("aria-label",e.label+": "+e.description),l(2),x(e.label),l(2),x(e.description)}}function Je(i,t){if(i&1&&(c(0,"div",38),F(1,Ke,5,5,"button",43,Qe),s()),i&2){let e=u(2);l(),I(e.clefFilters)}}function Xe(i,t){if(i&1){let e=L();c(0,"div",9)(1,"div",32)(2,"div",33)(3,"span",34),r(4,"Level"),s(),c(5,"div",35)(6,"button",36),k("click",function(){y(e);let o=u();return O(o.toggleDifficultyDropdown())}),r(7),c(8,"span",37),r(9,"\u25BC"),s()(),_(10,qe,3,0,"div",38),s()(),c(11,"div",33)(12,"span",34),r(13,"Clef"),s(),c(14,"div",35)(15,"button",36),k("click",function(){y(e);let o=u();return O(o.toggleClefDropdown())}),r(16),c(17,"span",37),r(18,"\u25BC"),s()(),_(19,Je,3,0,"div",38),s()()(),c(20,"div",39)(21,"div",40)(22,"span",34),r(23,"Overall Accuracy:"),s(),c(24,"span",41),r(25),s()(),c(26,"div",40)(27,"span",34),r(28,"Question Number:"),s(),c(29,"span",42),r(30),s()()()()}if(i&2){let e=u();l(6),b("aria-expanded",e.showDifficultyDropdown())("aria-label","Select difficulty mode. Current: "+e.getCurrentDifficultyLabel()),l(),D(" ",e.getCurrentDifficultyLabel()," "),l(3),v(e.showDifficultyDropdown()?10:-1),l(5),b("aria-expanded",e.showClefDropdown())("aria-label","Select clef filter. Current: "+e.getCurrentClefLabel()),l(),D(" ",e.getCurrentClefLabel()," "),l(3),v(e.showClefDropdown()?19:-1),l(5),Y("high-accuracy",e.accuracyPercentage()>=80),l(),D(" ",e.accuracyPercentage(),"% "),l(5),x(t.totalQuestionsAnswered)}}function Ze(i,t){if(i&1&&oe(0,"app-musical-staff",13),i&2){let e,n=t,o=u();j("currentNote",n)("clef",n.clef)("showNote",!0)("showResult",((e=o.feedback())==null?null:e.type)==="correct"),b("aria-label","Musical staff displaying a note to identify")}}function et(i,t){i&1&&(c(0,"div",14)(1,"p"),r(2,"Loading musical note..."),s()())}function tt(i,t){if(i&1){let e=L();c(0,"div",17)(1,"p",47),r(2,"What note is displayed on the staff?"),s(),c(3,"app-note-input",48),k("noteSelected",function(o){y(e);let a=u();return O(a.handleAnswer(o))}),s()()}if(i&2){let e=u();l(3),j("availableNotes",e.getAvailableNotes())("disabled",e.isProcessing()),b("aria-label","Select the note you think is displayed")}}function nt(i,t){i&1&&(c(0,"div",18),oe(1,"div",49),c(2,"p"),r(3,"Processing your answer..."),s()())}function ot(i,t){if(i&1&&(c(0,"div",52)(1,"span",55),r(2,"\u2713"),s(),c(3,"span",56),r(4),s()()),i&2){let e=u();l(4),x(e.message)}}function it(i,t){if(i&1&&(c(0,"div",53)(1,"span",55),r(2,"\u2717"),s(),c(3,"span",56),r(4),s()()),i&2){let e=u();l(4),x(e.message)}}function rt(i,t){if(i&1&&(c(0,"div",54)(1,"span",55),r(2,"\u{1F4A1}"),s(),c(3,"span",56),r(4),s()()),i&2){let e=u();l(4),x(e.message)}}function at(i,t){if(i&1&&(c(0,"section",19)(1,"h2",50),r(2,"Answer Feedback"),s(),c(3,"div",51),_(4,ot,5,1,"div",52)(5,it,5,1,"div",53)(6,rt,5,1,"div",54),s()()),i&2){let e;l(4),v((e=t.type)==="correct"?4:e==="incorrect"?5:e==="hint"?6:-1)}}function st(i,t){i&1&&r(0," Next Note ")}function ct(i,t){i&1&&r(0," New Note ")}function lt(i,t){if(i&1){let e=L();c(0,"button",57),k("click",function(){y(e);let o=u();return O(o.showAnswer())}),r(1),s()}if(i&2){let e=u();b("aria-label","Reveal the correct answer for this note"),l(),D(" ",e.showAnswerHint()?"Hide Answer Hint":"Show Answer Hint"," ")}}function dt(i,t){if(i&1&&(c(0,"span"),r(1),s()),i&2){let e=t;l(),pe("Current note: ",e.name," ",e.octave," in ",e.clef," clef")}}var Me=class i{nextNoteButton;currentNote=p(null);userProgress=p(null);feedback=p(null);isProcessing=p(!1);hasAnswered=p(!1);sessionStartTime=p(new Date);questionStartTime=p(new Date);showAnswerHint=p(!1);difficultyMode=p("default");showDifficultyDropdown=p(!1);difficultyModes=ve;clefFilter=p("both");showClefDropdown=p(!1);clefFilters=Pe;pendingAnswer=p(null);showAnswerInput=P(()=>this.currentNote()&&!this.hasAnswered());canGenerateNew=P(()=>!this.isProcessing());accuracyPercentage=P(()=>{let t=this.userProgress();return t?Math.round(t.overallAccuracy*100):0});availableNotes=["C","D","E","F","G","A","B"];noteGenerator=T(X);progressService=T(V);ngOnInit(){this.loadUserProgress(),this.generateNewNote()}ngOnDestroy(){this.saveProgress()}onDocumentClick(t){t.target.closest(".difficulty-dropdown")||(this.showDifficultyDropdown()&&this.showDifficultyDropdown.set(!1),this.showClefDropdown()&&this.showClefDropdown.set(!1))}onEscapeKey(){this.showDifficultyDropdown()&&this.showDifficultyDropdown.set(!1),this.showClefDropdown()&&this.showClefDropdown.set(!1)}generateNewNote(){let t=this.pendingAnswer();t&&(this.noteGenerator.recordAnswer(t.note,t.userAnswer,t.isCorrect,t.responseTime),this.progressService.recordQuestionAttempt(t.isCorrect,t.responseTime),this.pendingAnswer.set(null),setTimeout(()=>this.updateProgress(),0)),this.isProcessing.set(!0),this.hasAnswered.set(!1),this.feedback.set(null),this.questionStartTime.set(new Date);try{let e=this.noteGenerator.generateNextNote();this.currentNote.set(e)}catch(e){console.error("Error generating note:",e),this.feedback.set({type:"incorrect",message:"Error generating note. Please try again."})}finally{this.isProcessing.set(!1)}}handleAnswer(t){let e=this.currentNote();if(!e||this.hasAnswered())return;let n=this.validateAnswer(t,e),o=this.calculateResponseTime();this.pendingAnswer.set({note:e,userAnswer:t,isCorrect:n,responseTime:o}),this.showFeedback(n,e,t),this.hasAnswered.set(!0),setTimeout(()=>{this.nextNoteButton?.nativeElement.focus()},100)}showAnswer(){let t=this.currentNote();if(this.showAnswerHint())this.feedback.set(null);else if(t){let e=`${t.name}${t.accidental?t.accidental==="sharp"?"#":"\u266D":""}`;this.feedback.set({type:"hint",message:`The correct answer is ${e}`})}this.showAnswerHint.set(!this.showAnswerHint())}resetProgress(){confirm("Are you sure you want to reset all progress? This cannot be undone.")&&(this.noteGenerator.resetProgress(),this.progressService.resetProgress(),this.loadUserProgress(),this.generateNewNote(),this.feedback.set({type:"hint",message:"Progress has been reset. Starting fresh!"}))}getAvailableNotes(){return this.availableNotes}toggleDifficultyDropdown(){this.showDifficultyDropdown.update(t=>!t),this.showDifficultyDropdown()&&this.showClefDropdown.set(!1)}selectDifficulty(t){this.difficultyMode.set(t),this.showDifficultyDropdown.set(!1),this.noteGenerator.setDifficultyMode(t),this.generateNewNote()}getCurrentDifficultyLabel(){return this.difficultyModes.find(e=>e.mode===this.difficultyMode())?.label||"Default"}toggleClefDropdown(){this.showClefDropdown.update(t=>!t),this.showClefDropdown()&&this.showDifficultyDropdown.set(!1)}selectClef(t){this.clefFilter.set(t),this.showClefDropdown.set(!1),this.noteGenerator.setClefFilter(t),this.generateNewNote()}getCurrentClefLabel(){return this.clefFilters.find(e=>e.filter===this.clefFilter())?.label||"Both"}validateAnswer(t,e){return t.replace(/[#b]/g,"").toUpperCase()===e.name}calculateResponseTime(){let t=this.questionStartTime();return new Date().getTime()-t.getTime()}showFeedback(t,e,n){if(t){let o=["Excellent! \u{1F3B5}","Perfect! \u{1F3B6}","Great job! \u2728","Correct! \u{1F3AF}","Well done! \u{1F44F}"],a=o[Math.floor(Math.random()*o.length)];this.feedback.set({type:"correct",message:a})}else{let o=`${e.name}${e.accidental?e.accidental==="sharp"?"#":"\u266D":""}`;this.feedback.set({type:"incorrect",message:`Not quite. You answered "${n}", but the correct answer is "${o}".`})}}loadUserProgress(){try{let t=this.progressService.getCurrentProgress();this.userProgress.set(t)}catch(t){console.error("Error loading user progress:",t),this.userProgress.set({currentLevel:"easy",totalQuestionsAnswered:0,overallAccuracy:0,sessionStartTime:new Date,levelProgression:[]})}}updateProgress(){try{let t=this.progressService.getCurrentProgress();this.userProgress.set(t)}catch(t){console.error("Error updating progress:",t)}}saveProgress(){try{this.progressService.saveProgress()}catch(t){console.error("Error saving progress:",t)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=z({type:i,selectors:[["app-note-tutor"]],viewQuery:function(e,n){if(e&1&&de(Ue,5),e&2){let o;ue(o=ge())&&(n.nextNoteButton=o.first)}},hostBindings:function(e,n){e&1&&k("click",function(a){return n.onDocumentClick(a)},ne)("keydown.escape",function(){return n.onEscapeKey()},ne)},decls:109,vars:10,consts:[["nextNoteButton",""],[1,"note-tutor-container"],[1,"game-header"],[1,"line-1"],[1,"line-2"],[1,"header-controls"],["type","button",1,"btn","btn-outline",3,"click"],["aria-labelledby","progress-heading",1,"progress-section"],["id","progress-heading",1,"sr-only"],[1,"stats-grid"],["role","main",1,"game-area"],["aria-labelledby","staff-heading",1,"staff-section"],["id","staff-heading",1,"sr-only"],[1,"staff-container",3,"currentNote","clef","showNote","showResult"],["role","status","aria-live","polite",1,"staff-placeholder"],["aria-labelledby","input-heading",1,"input-section"],["id","input-heading",1,"sr-only"],[1,"input-container"],["role","status","aria-live","polite",1,"processing-state"],["aria-labelledby","feedback-heading",1,"feedback-section"],["aria-labelledby","controls-heading",1,"controls-section"],["id","controls-heading",1,"sr-only"],[1,"controls"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-secondary","hint-button"],["aria-labelledby","instructions-heading",1,"instructions-panel"],["id","instructions-heading"],[1,"instructions-content"],[1,"instructions-list"],[1,"tips-section"],[1,"tips-list"],["aria-live","polite","id","screen-reader-announcements",1,"sr-only"],[1,"stat-line","options-stat-line"],[1,"stat-item","difficulty-selector"],[1,"stat-label"],[1,"difficulty-dropdown"],["type","button",1,"stat-value","level-badge","difficulty-button",3,"click"],[1,"dropdown-arrow"],["role","menu",1,"difficulty-menu"],[1,"stat-line"],[1,"stat-item"],[1,"stat-value","accuracy-display"],[1,"stat-value"],["type","button","role","menuitem",1,"difficulty-option",3,"active"],["type","button","role","menuitem",1,"difficulty-option",3,"click"],[1,"option-label"],[1,"option-description"],[1,"instruction-text"],[1,"answer-input",3,"noteSelected","availableNotes","disabled"],["aria-hidden","true",1,"loading-spinner"],["id","feedback-heading",1,"sr-only"],[1,"feedback-container"],["role","alert","aria-live","assertive",1,"feedback","success"],["role","alert","aria-live","assertive",1,"feedback","error"],["role","status","aria-live","polite",1,"feedback","hint"],["aria-hidden","true",1,"feedback-icon"],[1,"feedback-message"],["type","button",1,"btn","btn-secondary","hint-button",3,"click"]],template:function(e,n){if(e&1){let o=L();c(0,"div",1)(1,"header",2)(2,"h1")(3,"span",3),r(4,"MUSICAL"),s(),c(5,"span")(6,"span",4),r(7,"NOTE TUTOR"),s()()(),c(8,"div",5)(9,"button",6),k("click",function(){return y(o),O(n.resetProgress())}),r(10," Reset Progress "),s()()(),c(11,"section",7)(12,"h2",8),r(13,"Your Progress"),s(),_(14,Xe,31,12,"div",9),s(),c(15,"main",10)(16,"section",11)(17,"h2",12),r(18,"Musical Staff"),s(),_(19,Ze,1,5,"app-musical-staff",13)(20,et,3,0,"div",14),s(),c(21,"section",15)(22,"h2",16),r(23,"Answer Input"),s(),_(24,tt,4,3,"div",17)(25,nt,4,0,"div",18),s(),_(26,at,7,1,"section",19),c(27,"section",20)(28,"h2",21),r(29,"Game Controls"),s(),c(30,"div",22)(31,"button",23,0),k("click",function(){return y(o),O(n.generateNewNote())}),_(33,st,1,0)(34,ct,1,0),s(),_(35,lt,2,2,"button",24),s()()(),c(36,"aside",25)(37,"h2",26),r(38,"How to Play"),s(),c(39,"div",27)(40,"ol",28)(41,"li"),r(42,"Choose your "),c(43,"strong"),r(44,"Difficulty"),s(),r(45," level: "),c(46,"ul")(47,"li")(48,"strong"),r(49,"Default:"),s(),r(50," All note positions (staff + ledger lines)"),s(),c(51,"li")(52,"strong"),r(53,"Easy:"),s(),r(54," Only notes on the staff lines and spaces"),s(),c(55,"li")(56,"strong"),r(57,"Hard:"),s(),r(58," Only notes on ledger lines above and below staff"),s()()(),c(59,"li"),r(60,"Select your "),c(61,"strong"),r(62,"Clef"),s(),r(63," preference: "),c(64,"ul")(65,"li")(66,"strong"),r(67,"Both:"),s(),r(68," Practice treble and bass clef notes"),s(),c(69,"li")(70,"strong"),r(71,"Treble:"),s(),r(72," Focus on treble clef only"),s(),c(73,"li")(74,"strong"),r(75,"Bass:"),s(),r(76," Focus on bass clef only"),s()()(),c(77,"li"),r(78,"Look at the note displayed on the musical staff"),s(),c(79,"li"),r(80,"Identify which note it represents (C, D, E, F, G, A, or B)"),s(),c(81,"li"),r(82,"Click on your answer from the available options"),s(),c(83,"li"),r(84,"Get instant feedback and track your progress"),s()(),c(85,"div",29)(86,"h3"),r(87,"Tips for Success:"),s(),c(88,"ul",30)(89,"li"),r(90,"Start with "),c(91,"strong"),r(92,"Easy"),s(),r(93," difficulty to learn staff notes first"),s(),c(94,"li"),r(95,'Use mnemonics like "Every Good Boy Does Fine" for treble clef lines'),s(),c(96,"li"),r(97,"Practice one clef at a time before combining both"),s(),c(98,"li"),r(99,"Progress to "),c(100,"strong"),r(101,"Hard"),s(),r(102," difficulty to master ledger lines"),s(),c(103,"li"),r(104,"Practice regularly to build muscle memory"),s(),c(105,"li"),r(106,"Don't worry about mistakes - they help you learn!"),s()()()()(),c(107,"div",31),_(108,dt,2,3,"span"),s()()}if(e&2){let o,a,d,m;l(9),b("aria-label","Reset all progress"),l(5),v((o=n.userProgress())?14:-1,o),l(5),v((a=n.currentNote())?19:20,a),l(5),v(n.showAnswerInput()?24:n.isProcessing()?25:-1),l(2),v((d=n.feedback())?26:-1,d),l(5),j("disabled",!n.canGenerateNew()),b("aria-label",n.hasAnswered()?"Generate next musical note":"Generate new musical note"),l(2),v(n.hasAnswered()?33:34),l(2),v(n.showAnswerInput()?35:-1),l(73),v((m=n.currentNote())?108:-1,m)}},dependencies:[$,Z,ee],styles:['.note-tutor-container[_ngcontent-%COMP%]{min-height:100vh;display:grid;grid-template-areas:"header header" "progress progress" "main instructions" "main instructions";grid-template-columns:1fr 350px;grid-template-rows:auto auto 1fr auto;gap:2px;padding:0;background:var(--violet-dark);font-family:Courier New,Courier,monospace;position:relative}@media (max-width: 1024px){.note-tutor-container[_ngcontent-%COMP%]{grid-template-areas:"header" "progress" "main" "instructions";grid-template-columns:1fr;grid-template-rows:auto auto 1fr auto}}.game-header[_ngcontent-%COMP%]{grid-area:header;display:flex;justify-content:space-between;align-items:center;padding:24px 40px;background:#0d0020d9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid var(--rebecca)}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:Courier New,Courier,monospace;font-size:1.8rem;font-weight:900;line-height:.9;letter-spacing:-.02em;display:flex;flex-direction:column;align-items:flex-start}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]{color:var(--white)}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]{color:var(--fuchsia);text-shadow:0 0 60px rgba(255,0,170,.8),0 0 120px rgba(255,0,170,.4);animation:flicker 4s ease-in-out infinite}.game-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{display:flex;gap:12px}.progress-section[_ngcontent-%COMP%]{grid-area:progress;background:var(--violet-surface);border-top:1px solid rgba(102,51,153,.4);border-bottom:1px solid rgba(102,51,153,.4);padding:24px 40px}.progress-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;flex-wrap:wrap;gap:20px}.progress-section[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{display:inline-flex;gap:80px;justify-content:center}.progress-section[_ngcontent-%COMP%]   .options-stat-line[_ngcontent-%COMP%]{gap:40px}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;position:relative}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:.2em;text-transform:uppercase;color:var(--pale-lavender);margin-bottom:4px}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;font-size:2.5rem;font-weight:900;color:var(--fuchsia);text-shadow:0 0 20px rgba(255,0,170,.6);line-height:1}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.level-badge[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px;border:1px solid var(--fuchsia);clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);text-transform:capitalize;text-shadow:none}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.accuracy-display[_ngcontent-%COMP%]{color:var(--electric-mint);text-shadow:0 0 20px rgba(0,255,204,.6)}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value.accuracy-display.high-accuracy[_ngcontent-%COMP%]{animation:flicker 4s ease-in-out infinite}.progress-section[_ngcontent-%COMP%]   .stat-item.difficulty-selector[_ngcontent-%COMP%], .progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-dropdown[_ngcontent-%COMP%]{position:relative}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-button[_ngcontent-%COMP%]{cursor:pointer;background:transparent;border:1px solid var(--fuchsia);display:flex;align-items:center;gap:8px;transition:all .3s ease}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-button[_ngcontent-%COMP%]:hover{background:#ff00aa1a;box-shadow:0 0 20px #ff00aa4d}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-button[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{font-size:.6rem;transition:transform .3s ease}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-button[aria-expanded=true][_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);left:50%;transform:translate(-50%);background:var(--violet-surface);border:1px solid var(--fuchsia);clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);box-shadow:0 0 30px #f0a6;z-index:1000;min-width:280px}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:12px 16px;background:transparent;border:none;border-bottom:1px solid rgba(102,51,153,.3);width:100%;cursor:pointer;transition:all .3s ease;text-align:left}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-option[_ngcontent-%COMP%]:hover{background:#ff00aa1a}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-option.active[_ngcontent-%COMP%]{background:#ff00aa26;border-left:3px solid var(--fuchsia)}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-option[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;font-size:.95rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--fuchsia);margin-bottom:4px}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-option[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{font-size:.85rem;color:#e8ccff99;line-height:1.4}.game-area[_ngcontent-%COMP%]{grid-area:main;display:flex;flex-direction:column;gap:32px;padding:40px;background:var(--violet-mid);min-height:600px;position:relative;overflow:hidden}.game-area[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(rgba(102,51,153,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(102,51,153,.1) 1px,transparent 1px);background-size:40px 40px;animation:_ngcontent-%COMP%_gridScroll 15s linear infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_gridScroll{0%{background-position:0 0}to{background-position:40px 40px}}.game-area[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.staff-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:250px;padding:32px;background:#0d002099;border:1px solid rgba(102,51,153,.3);clip-path:polygon(12px 0,100% 0,calc(100% - 12px) 100%,0 100%)}.staff-section[_ngcontent-%COMP%]   .staff-container[_ngcontent-%COMP%]{width:100%;max-width:600px}.staff-section[_ngcontent-%COMP%]   .staff-placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#e8ccff66;font-style:italic;font-size:.9rem;letter-spacing:.1em}.input-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px}.input-section[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;width:100%;max-width:500px}.input-section[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--electric-mint);text-align:center;margin:0}.input-section[_ngcontent-%COMP%]   .answer-input[_ngcontent-%COMP%]{width:100%}.input-section[_ngcontent-%COMP%]   .processing-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;color:var(--pale-lavender)}.input-section[_ngcontent-%COMP%]   .processing-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(102,51,153,.3);border-top:3px solid var(--fuchsia);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.input-section[_ngcontent-%COMP%]   .processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:.1em;text-transform:uppercase}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.feedback-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.feedback-section[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]{width:100%;max-width:600px}.feedback-section[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 24px;font-weight:700;font-size:.9rem;letter-spacing:.05em;animation:_ngcontent-%COMP%_fadeInUp .3s ease-out;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);border:1px solid}.feedback-section[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0}.feedback-section[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]{flex:1}.feedback-section[_ngcontent-%COMP%]   .feedback.success[_ngcontent-%COMP%]{background:#00ffcc1a;color:var(--electric-mint);border-color:var(--electric-mint);box-shadow:0 0 20px #0fc3}.feedback-section[_ngcontent-%COMP%]   .feedback.success[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]{animation:pulse 2s ease-in-out infinite}.feedback-section[_ngcontent-%COMP%]   .feedback.error[_ngcontent-%COMP%]{background:#ff00aa1a;color:var(--fuchsia);border-color:var(--fuchsia);box-shadow:0 0 20px #f0a3}.feedback-section[_ngcontent-%COMP%]   .feedback.hint[_ngcontent-%COMP%]{background:#e8ccff0d;color:var(--pale-lavender);border-color:var(--rebecca)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.controls-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:24px}.controls-section[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;justify-content:center}.instructions-panel[_ngcontent-%COMP%]{grid-area:instructions;padding:40px 32px;background:var(--violet-surface);border-left:1px solid rgba(102,51,153,.4);height:100%;overflow-y:auto}.instructions-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 24px;font-size:1.2rem;font-weight:900;letter-spacing:.05em;color:var(--white);text-transform:uppercase}.instructions-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"// ";color:var(--fuchsia)}.instructions-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:32px 0 16px;font-size:.85rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--electric-mint)}.instructions-panel[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]{color:#e8ccffb3}.instructions-panel[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%], .instructions-panel[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]{margin:0;padding-left:24px;line-height:1.8;font-size:.85rem}.instructions-panel[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .instructions-panel[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;color:#e8ccff99}.instructions-panel[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .instructions-panel[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.instructions-panel[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker, .instructions-panel[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{color:var(--rebecca)}.instructions-panel[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]{margin-top:32px;padding-top:32px;border-top:1px solid rgba(102,51,153,.3)}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 1024px){.instructions-panel[_ngcontent-%COMP%]{border-left:none;border-top:1px solid rgba(102,51,153,.4)}}@media (max-width: 768px){.note-tutor-container[_ngcontent-%COMP%]{gap:0}.game-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;padding:20px;text-align:center}.progress-section[_ngcontent-%COMP%]{padding:20px}.progress-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .progress-section[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{gap:40px}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem}.game-area[_ngcontent-%COMP%]{padding:24px;gap:24px}.staff-section[_ngcontent-%COMP%]{padding:6px;min-height:200px}.instructions-panel[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.progress-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{gap:24px;grid-template-columns:1fr 1fr}.progress-section[_ngcontent-%COMP%]   .stat-line[_ngcontent-%COMP%]{gap:15px}.progress-section[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .difficulty-menu[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);max-width:90vw;z-index:2000}.controls[_ngcontent-%COMP%]{flex-direction:column;width:100%}.controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.feedback[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]{font-size:.75rem}}@media (prefers-contrast: high){.game-header[_ngcontent-%COMP%], .progress-section[_ngcontent-%COMP%], .game-area[_ngcontent-%COMP%], .instructions-panel[_ngcontent-%COMP%]{border:2px solid var(--white)}.feedback.success[_ngcontent-%COMP%], .feedback.error[_ngcontent-%COMP%]{border-width:2px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.loading-spinner[_ngcontent-%COMP%]{animation:none;border-top-color:var(--fuchsia)}.game-area[_ngcontent-%COMP%]:before{animation:none}}@media print{.note-tutor-container[_ngcontent-%COMP%]{background:#fff}.controls-section[_ngcontent-%COMP%], .header-controls[_ngcontent-%COMP%]{display:none}.instructions-panel[_ngcontent-%COMP%]{break-inside:avoid}body[_ngcontent-%COMP%]:before{display:none}}']})};export{Me as NoteTutor};
